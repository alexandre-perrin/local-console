#:import res_path wedge_cli.gui.main.resource_path

<ConfigurationScreenView>
    md_bg_color: self.theme_cls.backgroundColor

    MDBoxLayout:
        orientation: "vertical"

        MDBoxLayout:
        # Top bar
            orientation: "horizontal"
            size_hint_y: 0.1

            MDBoxLayout:
            # Controls half
                orientation: "horizontal"
                padding: "10dp"
                spacing: "10dp"

                MDButton:
                    on_release: root.manager.current = 'home screen'
                    style: "elevated"
                    pos_hint: {"center_y": 0.5}
                    size_hint_x: "60dp"
                    MDButtonIcon:
                        icon: "home"
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}

                MDWidget:
                    size_hint_x: 3

        GridLayout:
        # File path
            rows: 3
            cols: 4
            padding: "5dp"
            spacing: "5dp"
            size_hint_y: 0.2

            # First row from here

            MDLabel:
            # Image dir
                text: 'Image dir:'
                adaptive_width: True

            MDLabel:
                id: lbl_image_path
                text: ""
                padding: "5sp"
                canvas.before:
                    Color:
                        rgb: 0, 0, 0
                    Line:
                        rounded_rectangle: self.x, self.y, self.width, self.height, 8
                        width: 1

            MDButton:
                id: btn_pick_image_dir
                on_release: root.file_manager_open_image()
                style: "elevated"
                MDButtonIcon:
                    icon: "folder-cog"
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}

            MDWidget:
            # Spacer
                size_hint_x: None

            # Second row from here

            MDLabel:
            # Inference dir
                text: 'Inference dir:'
                adaptive_width: True

            MDLabel:
                id: lbl_inference_path
                text: ""
                padding: "5sp"
                canvas.before:
                    Color:
                        rgb: 0, 0, 0
                    Line:
                        rounded_rectangle: self.x, self.y, self.width, self.height, 8
                        width: 1

            MDButton:
                id: btn_pick_inference_dir
                on_release: root.file_manager_open_inferences()
                style: "elevated"
                MDButtonIcon:
                    icon: "folder-cog"
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}

            MDWidget:
            # Spacer
                size_hint_x: None

            # Third row from here

            MDLabel:
            # Schema
                text: 'Schema:'
                adaptive_width: True

            MDLabel:
                id: lbl_schema_path
                text: ""
                padding: "5sp"
                canvas.before:
                    Color:
                        rgb: 0, 0, 0
                    Line:
                        rounded_rectangle: self.x, self.y, self.width, self.height, 8
                        width: 1

            MDButton:
                id: btn_pick_schema_dir
                on_release: root.file_manager_open_flatbuffers()
                style: "elevated"
                MDButtonIcon:
                    icon: "folder-cog"
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}

            MDButton:
                id: btn_process_schema
                on_release: root.controller.process_schema()

                MDButtonText:
                    text: " Process \n schema "

        MDBoxLayout:
            orientation: "horizontal"
            size_hint_y: 0.6
