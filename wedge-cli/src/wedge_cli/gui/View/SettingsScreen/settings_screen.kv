#:import res_path wedge_cli.gui.main.resource_path
#:import get_my_ip wedge_cli.utils.local_network.get_my_ip_by_routing

<SettingsScreenView>
    md_bg_color: self.theme_cls.backgroundColor

    MDBoxLayout:
        orientation: "vertical"

		canvas.before:
			Color:
				rgb: 0, 0, 0
			Line:
				rectangle: self.x, self.y, self.width, self.height
				width: 1

        MDBoxLayout:
        # Top bar
            orientation: "horizontal"
            size_hint_y: 0.1

            MDBoxLayout:
            # Controls half
                orientation: "horizontal"
                padding: "5dp"

                canvas.before:
                    Color:
                        rgb: 0, 0, 0
                    Line:
                        rectangle: self.x, self.y, self.width, self.height
                        width: 1

                MDButton:
                    on_release: root.manager.current = 'home screen'
                    style: "elevated"
                    pos_hint: {"center_y": 0.5}
                    size_hint_x: "60dp"
                    MDButtonIcon:
                        icon: "home"
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}

                MDWidget:

            MDBoxLayout:
            # Status readout half
                orientation: "horizontal"
                padding: "5dp"

                canvas.before:
                    Color:
                        rgb: 0, 0, 0
                    Line:
                        rectangle: self.x, self.y, self.width, self.height
                        width: 1
                MDIcon:
                    icon: "video-outline"
                    pos_hint: {'center_y': .5}

        MDGridLayout:
            cols: 2
            #adaptive_height: False
            size_hint_y: 0.9
            padding: "5dp"

            MDLabel:
                text: "Local IP Address:"
                font_style: 'Body'
            MDLabel:
                text: get_my_ip()
                font_style: 'Body'
                allow_selection: True
